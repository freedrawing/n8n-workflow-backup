{
  "active": false,
  "connections": {
    "AI Agent: Generate Creative Video Idea": {
      "main": [
        [
          {
            "index": 0,
            "node": "Save Idea & Metadata to Google Sheets",
            "type": "main"
          }
        ]
      ]
    },
    "AI Agent: Generate Detailed Video Prompts": {
      "main": [
        [
          {
            "index": 0,
            "node": "Extract Individual Scene Descriptions",
            "type": "main"
          }
        ]
      ]
    },
    "Assign Social Media IDs": {
      "main": [
        [
          {
            "index": 0,
            "node": "Upload Video to Blotato",
            "type": "main"
          }
        ]
      ]
    },
    "Extract Individual Scene Descriptions": {
      "main": [
        [
          {
            "index": 0,
            "node": "Generate Video Clips (Wavespeed AI)",
            "type": "main"
          }
        ]
      ]
    },
    "Generate ASMR Sound (Fal AI)": {
      "main": [
        [
          {
            "index": 0,
            "node": "Wait for Sound Generation (Fal AI)",
            "type": "main"
          }
        ]
      ]
    },
    "Generate Video Clips (Wavespeed AI)": {
      "main": [
        [
          {
            "index": 0,
            "node": "Wait for Clip Generation (Wavespeed AI)",
            "type": "main"
          }
        ]
      ]
    },
    "Get my video": {
      "main": [
        [
          {
            "index": 0,
            "node": "Assign Social Media IDs",
            "type": "main"
          }
        ]
      ]
    },
    "LLM: Draft Video Prompt Details (GPT-4.1)": {
      "ai_languageModel": [
        [
          {
            "index": 0,
            "node": "AI Agent: Generate Detailed Video Prompts",
            "type": "ai_languageModel"
          }
        ]
      ]
    },
    "LLM: Generate Raw Idea (GPT-4.1)": {
      "ai_languageModel": [
        [
          {
            "index": 0,
            "node": "AI Agent: Generate Creative Video Idea",
            "type": "ai_languageModel"
          }
        ]
      ]
    },
    "List Clip URLs for Stitching": {
      "main": [
        [
          {
            "index": 0,
            "node": "Merge Clips into Final Video (Fal AI)",
            "type": "main"
          }
        ]
      ]
    },
    "Merge Clips into Final Video (Fal AI)": {
      "main": [
        [
          {
            "index": 0,
            "node": "Wait for Video Rendering (Fal AI)",
            "type": "main"
          }
        ]
      ]
    },
    "Parse AI Output (Idea, Environment, Sound)": {
      "ai_outputParser": [
        [
          {
            "index": 0,
            "node": "AI Agent: Generate Creative Video Idea",
            "type": "ai_outputParser"
          }
        ]
      ]
    },
    "Parse Structured Video Prompt Output": {
      "ai_outputParser": [
        [
          {
            "index": 0,
            "node": "AI Agent: Generate Detailed Video Prompts",
            "type": "ai_outputParser"
          }
        ]
      ]
    },
    "Retrieve Final Merged Video": {
      "main": [
        [
          {
            "index": 0,
            "node": "URL Final Video",
            "type": "main"
          }
        ]
      ]
    },
    "Retrieve Final Sound Output": {
      "main": [
        [
          {
            "index": 0,
            "node": "List Clip URLs for Stitching",
            "type": "main"
          }
        ]
      ]
    },
    "Retrieve Video Clips": {
      "main": [
        [
          {
            "index": 0,
            "node": "Generate ASMR Sound (Fal AI)",
            "type": "main"
          }
        ]
      ]
    },
    "Save Idea & Metadata to Google Sheets": {
      "main": [
        [
          {
            "index": 0,
            "node": "AI Agent: Generate Detailed Video Prompts",
            "type": "main"
          }
        ]
      ]
    },
    "Tool: Inject Creative Perspective (Idea)": {
      "ai_tool": [
        [
          {
            "index": 0,
            "node": "AI Agent: Generate Creative Video Idea",
            "type": "ai_tool"
          }
        ]
      ]
    },
    "Tool: Refine and Validate Prompts1": {
      "ai_tool": [
        [
          {
            "index": 0,
            "node": "AI Agent: Generate Detailed Video Prompts",
            "type": "ai_tool"
          }
        ]
      ]
    },
    "Trigger: Start Daily Content Generation": {
      "main": [
        [
          {
            "index": 0,
            "node": "AI Agent: Generate Creative Video Idea",
            "type": "main"
          }
        ]
      ]
    },
    "URL Final Video": {
      "main": [
        [
          {
            "index": 0,
            "node": "Get my video",
            "type": "main"
          }
        ]
      ]
    },
    "Upload Video to Blotato": {
      "main": [
        [
          {
            "index": 0,
            "node": "INSTAGRAM",
            "type": "main"
          },
          {
            "index": 0,
            "node": "YOUTUBE",
            "type": "main"
          },
          {
            "index": 0,
            "node": "TIKTOK",
            "type": "main"
          },
          {
            "index": 0,
            "node": "FACEBOOK",
            "type": "main"
          },
          {
            "index": 0,
            "node": "THREADS",
            "type": "main"
          },
          {
            "index": 0,
            "node": "TWITTER",
            "type": "main"
          },
          {
            "index": 0,
            "node": "LINKEDIN",
            "type": "main"
          },
          {
            "index": 0,
            "node": "BLUESKY",
            "type": "main"
          },
          {
            "index": 0,
            "node": "PINTEREST",
            "type": "main"
          },
          {
            "index": 0,
            "node": "Update Production",
            "type": "main"
          }
        ]
      ]
    },
    "Wait for Clip Generation (Wavespeed AI)": {
      "main": [
        [
          {
            "index": 0,
            "node": "Retrieve Video Clips",
            "type": "main"
          }
        ]
      ]
    },
    "Wait for Sound Generation (Fal AI)": {
      "main": [
        [
          {
            "index": 0,
            "node": "Retrieve Final Sound Output",
            "type": "main"
          }
        ]
      ]
    },
    "Wait for Video Rendering (Fal AI)": {
      "main": [
        [
          {
            "index": 0,
            "node": "Retrieve Final Merged Video",
            "type": "main"
          }
        ]
      ]
    }
  },
  "id": "0Zx4muPLi9T4e0EX",
  "isArchived": false,
  "name": "Generate AI Viral Videos with Seedance and Upload to TikTok, YouTube & Instagram",
  "nodes": [
    {
      "id": "5c29791b-2d82-4942-bf29-d3a61c91a2cc",
      "name": "Sticky Note10",
      "parameters": {
        "color": 2,
        "content": "## | Step 1: Generate Clips (Wavespeed AI)\n",
        "height": 240,
        "width": 880
      },
      "position": [
        -720,
        140
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "c92eb930-25bf-4cbf-8731-64d73df05ae2",
      "name": "Sticky Note13",
      "parameters": {
        "color": 2,
        "content": "## | Step 2: Generate Sounds (Fal AI)\n",
        "height": 240,
        "width": 640
      },
      "position": [
        220,
        140
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "5972eeb2-aa27-4f20-af16-c300da396a69",
      "name": "Sticky Note14",
      "parameters": {
        "color": 7,
        "content": "## | INPUT: Starting Idea Section",
        "height": 540,
        "width": 1560
      },
      "position": [
        -720,
        -420
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "9cebdf1d-1f94-42f0-ab30-abb532026ef0",
      "name": "Sticky Note",
      "parameters": {
        "color": 3,
        "content": "## | Step 3: Stitch Video (Fal AI)",
        "height": 260,
        "width": 1560
      },
      "position": [
        -720,
        440
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "disabled": true,
      "id": "c5936a82-afe2-4707-aee6-7ee915090290",
      "name": "Sticky Note2",
      "parameters": {
        "color": 4,
        "content": "## | Step 4 â€” Publish Video to Social Media\n",
        "height": 760,
        "width": 1560
      },
      "position": [
        -720,
        740
      ],
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1
    },
    {
      "id": "4615c731-82a0-4fcf-a5c5-ba09620c5884",
      "name": "Trigger: Start Daily Content Generation",
      "parameters": {
        "rule": {
          "interval": [
            {}
          ]
        }
      },
      "position": [
        -640,
        -300
      ],
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2
    },
    {
      "id": "1b27d328-562d-4832-9bce-9b35b2399a00",
      "name": "AI Agent: Generate Creative Video Idea",
      "parameters": {
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=**Role:**  \nYou are an AI designed to generate **one immersive, realistic idea** based on a user-provided topic. Your output must be formatted as a **single-line JSON array** and follow the rules below exactly.\n\n---\n\n### RULES\n\n1. **Number of ideas**  \n   - Return **only one idea**.\n\n2. **Topic**  \n   - The user will provide a keyword (e.g., â€œglass cutting ASMR,â€ â€œwood carving sounds,â€ â€œsatisfying rock splitsâ€).\n\n3. **Idea**  \n   - Maximum 13 words.  \n   - Describe a viral-worthy, original, or surreal moment related to the topic.\n\n4. **Caption**  \n   - Short, punchy, viral-friendly.  \n   - Include **one emoji**.  \n   - Exactly **12 hashtags** in this order:  \n     1. 4 topic-relevant hashtags  \n     2. 4 all-time most popular hashtags  \n     3. 4 currently trending hashtags (based on live research)  \n   - All in lowercase.\n\n5. **Environment**  \n   - Maximum 20 words.  \n   - Must match the action in the Idea exactly.  \n   - Specify location (studio table, natural terrain, lab benchâ€¦), visual details (dust particles, polished surface, subtle reflectionsâ€¦), and style (macro close-up, cinematic slow-motion, minimalistâ€¦).\n\n6. **Sound**  \n   - Maximum 15 words.  \n   - Describe the primary sound for the scene (to feed into an audio model).\n\n7. **Status**  \n   - Always set to `\"for production\"`.\n\n---\n\n### OUTPUT FORMAT (single-line JSON array)\n\n```json\n[\n  {\n    \"Caption\": \"Your short viral title with emoji #4_topic_hashtags #4_all_time_popular_hashtags #4_trending_hashtags\",\n    \"Idea\": \"Your idea under 13 words\",\n    \"Environment\": \"Your vivid setting under 20 words matching the action\",\n    \"Sound\": \"Your primary sound description under 15 words\",\n    \"Status\": \"for production\"\n  }\n]\n"
        },
        "promptType": "define",
        "text": "Generate a creative concept involving:\n\n[[\nA solid, hard material or element being sliced cleanly with a sharp blade. Your response must follow this structure:\n\n\"(Color) (Material) shaped like a (random everyday object)\"\n\nFor inspiration, imagine examples like: obsidian shaped like a chess piece, quartz shaped like a coffee mug, sapphire shaped like a seashell, or titanium shaped like a leaf.\n\n]]\n\nReflect carefully before answering to ensure originality and visual appeal.\n\nUse the Think tool to review your output"
      },
      "position": [
        -320,
        -300
      ],
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9
    },
    {
      "id": "3b485671-acc9-4a0d-bc09-c8d3997e865c",
      "name": "Tool: Inject Creative Perspective (Idea)",
      "parameters": {},
      "position": [
        -200,
        -20
      ],
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1
    },
    {
      "id": "4a269ffe-e23e-4656-b09d-a332d004d0b0",
      "name": "LLM: Generate Raw Idea (GPT-4.1)",
      "parameters": {
        "model": {
          "__rl": true,
          "cachedResultName": "gpt-4.1",
          "mode": "list",
          "value": "gpt-4.1"
        },
        "options": {}
      },
      "position": [
        -400,
        -20
      ],
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2
    },
    {
      "id": "5ee88bcd-b8f7-4dbb-bf4c-67f32c661766",
      "name": "Parse AI Output (Idea, Environment, Sound)",
      "parameters": {
        "jsonSchemaExample": "[\n  {\n    \"Caption\": \"Diver Removes Nets Off Whale ðŸ‹ #whalerescue #marinelife #oceanrescue #seahelpers #love #nature #instagood #explore #viral #savenature #oceanguardians #cleanoceans\",\n    \"Idea\": \"Diver carefully cuts tangled net from distressed whale in open sea\",\n    \"Environment\": \"Open ocean, sunlight beams through water, diver and whale, cinematic realism\",\n    \"Sound\": \"Primary sound description under 15 words\",\n    \"Status\": \"for production\"\n  }\n]\n"
      },
      "position": [
        -40,
        -20
      ],
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2
    },
    {
      "id": "d52b280e-a9f2-4cc3-bd4f-9b8eb571d208",
      "name": "Save Idea & Metadata to Google Sheets",
      "parameters": {
        "columns": {
          "attemptToConvertTypes": false,
          "convertFieldsToString": false,
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "canBeUsedToMatch": true,
              "defaultMatch": true,
              "display": true,
              "displayName": "id",
              "id": "id",
              "removed": false,
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "idea",
              "id": "idea",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "caption",
              "id": "caption",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "production",
              "id": "production",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "environment_prompt",
              "id": "environment_prompt",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "sound_prompt",
              "id": "sound_prompt",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "final_output",
              "id": "final_output",
              "required": false,
              "type": "string"
            }
          ],
          "value": {
            "caption": "={{ $json.output[0].Caption }}",
            "environment_prompt": "={{ $json.output[0].Environment }}",
            "id": "==ROW()-1",
            "idea": "={{ $json.output[0].Idea }}",
            "production": "={{ $json.output[0].Status }}",
            "sound_prompt": "={{ $json.output[0].Sound }}"
          }
        },
        "documentId": {
          "__rl": true,
          "mode": "id",
          "value": "="
        },
        "operation": "append",
        "options": {},
        "sheetName": {
          "__rl": true,
          "mode": "id",
          "value": "="
        }
      },
      "position": [
        140,
        -300
      ],
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5
    },
    {
      "id": "7cdeb812-c1ed-4ea0-bfac-dfdafc93251c",
      "name": "AI Agent: Generate Detailed Video Prompts",
      "parameters": {
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=Role: You are a prompt-generation AI specializing in cinematic, ASMR-style video prompts. Your task is to generate a multi-scene video sequence that vividly shows a sharp knife actively cutting through a specific object in a clean, high-detail setting.\n\nYour writing must follow this style:\n\nSharp, precise cinematic realism.\n\nMacro-level detail with tight focus on the blade interacting with the object.\n\nThe knife must always be in motion â€” slicing, splitting, or gliding through the material. Never idle or static.\n\nCamera terms are allowed (e.g. macro view, tight angle, over-the-blade shot).\n\nEach scene must contain all of the following, expressed through detailed visual language:\n\nâœ… The main object or subject (from the Idea)\n\nâœ… The cutting environment or surface (from the Environment)\n\nâœ… The texture, structure, and behavior of the material as itâ€™s being cut\n\nâœ… A visible, sharp blade actively cutting\n\nDescriptions should show:\n\nThe physical makeup of the material â€” is it translucent, brittle, dense, reflective, granular, fibrous, layered, or fluid-filled?\n\nHow the material responds to the blade â€” resistance, cracking, tearing, smooth separation, tension, vibration.\n\nThe interaction between the blade and the surface â€” light reflection, buildup of particles, contact points, residue or dust.\n\nAny ASMR-relevant sensory cues like particle release, shimmer, or subtle movement, but always shown visually â€” not narrated.\n\nTone:\n\nClean, clinical, visual.\n\nNo poetic metaphors, emotion, or storytelling.\n\nAvoid fantasy or surreal imagery.\n\nAll description must feel physically grounded and logically accurate.\n\nLength:\n\nEach scene must be between 1,000 and 2,000 characters.\n\nNo shallow or repetitive scenes â€” each must be immersive, descriptive, and specific.\n\nEach scene should explore a distinct phase of the cutting process, a different camera perspective, or a new behavior of the material under the blade.\n\nInputs:\n\nIdea: \"{{ $json.idea }}\"\nEnvironment: \"{{ $json.environment_prompt }}\"\nSound: \"{{ $json.sound_prompt }}\"\n\nFormat:\n\nIdea: \"...\"\nEnvironment: \"...\"\nSound: \"...\"\n\nScene 1: \"...\"\nScene 2: \"...\"\nScene 3: \"...\"\nScene 4: \"...\"\nScene 5: \"...\"\nScene 6: \"...\"\nScene 7: \"...\"\nScene 8: \"...\"\nScene 9: \"...\"\nScene 10: \"...\"\nScene 11: \"...\"\nScene 12: \"...\"\nScene 13: \"...\"\n\n"
        },
        "promptType": "define",
        "text": "=Give me 3 video prompts based on the previous idea\n\nUse the Think tool to review your output"
      },
      "position": [
        480,
        -300
      ],
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9
    },
    {
      "id": "1d9cc4f1-85f4-4f0f-9e0f-e5a5388b3ce0",
      "name": "LLM: Draft Video Prompt Details (GPT-4.1)",
      "parameters": {
        "model": {
          "__rl": true,
          "cachedResultName": "gpt-4.1",
          "mode": "list",
          "value": "gpt-4.1"
        },
        "options": {}
      },
      "position": [
        380,
        -20
      ],
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2
    },
    {
      "id": "2e3f37d9-6621-40f4-8a1e-5048fbb60242",
      "name": "Tool: Refine and Validate Prompts1",
      "parameters": {},
      "position": [
        560,
        -20
      ],
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1
    },
    {
      "id": "1b10f449-23c4-489d-9891-feebb3d185ed",
      "name": "Parse Structured Video Prompt Output",
      "parameters": {
        "jsonSchemaExample": "{\n  \"Idea\": \"An obsidian rock being sliced with a shimmering knife\",\n  \"Environment\": \"Clean studio table, subtle light reflections\",\n  \"Sound\": \"Crisp slicing, deep grinding, and delicate crumbling\",\n  \"Scene 1\": \"Extreme macro shot: a razor-sharp, polished knife blade presses into the dark, granular surface of an obsidian rock, just beginning to indent.\",\n  \"Scene 2\": \"Close-up: fine, iridescent dust particles erupt from the point of contact as the blade cuts deeper into the obsidian, catching the studio light.\",\n  \"Scene 3\": \"Mid-shot: the knife, held perfectly steady, has formed a shallow, clean groove across the obsidian's shimmering surface, revealing a new, smooth texture.\"\n}"
      },
      "position": [
        720,
        -20
      ],
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2
    },
    {
      "id": "f6b0c89a-c24a-4d2f-aaff-6df3abfee6dd",
      "name": "Extract Individual Scene Descriptions",
      "parameters": {
        "jsCode": "function findSceneEntries(obj) {\n  const scenes = [];\n\n  for (const [key, value] of Object.entries(obj)) {\n    if (key.toLowerCase().startsWith(\"scene\") && typeof value === \"string\") {\n      scenes.push(value);\n    } else if (typeof value === \"object\" && value !== null) {\n      scenes.push(...findSceneEntries(value));\n    }\n  }\n\n  return scenes;\n}\n\nlet output = [];\n\ntry {\n  const inputData = items[0].json;\n  const scenes = findSceneEntries(inputData);\n\n  if (scenes.length === 0) {\n    throw new Error(\"No scene keys found at any level.\");\n  }\n\n  output = scenes.map(scene => ({ description: scene }));\n} catch (e) {\n  throw new Error(\"Could not extract scenes properly. Details: \" + e.message);\n}\n\nreturn output;\n"
      },
      "position": [
        -600,
        220
      ],
      "type": "n8n-nodes-base.code",
      "typeVersion": 2
    },
    {
      "id": "fe30e804-34cf-47b6-90f7-d85a4a24f605",
      "name": "Generate Video Clips (Wavespeed AI)",
      "parameters": {
        "authentication": "genericCredentialType",
        "body": "={\n  \"aspect_ratio\": \"9:16\",\n  \"duration\": 10,\n  \"prompt\": \"VIDEO THEME: {{ $('Prompts AI Agent').item.json.output.Idea }} | WHAT HAPPENS IN THE VIDEO: {{ $json.description }} | WHERE THE VIDEO IS SHOT: {{ $('Prompts AI Agent').item.json.output.Environment }}\"\n}\n",
        "contentType": "raw",
        "genericAuthType": "httpHeaderAuth",
        "method": "POST",
        "options": {
          "batching": {
            "batch": {
              "batchInterval": 3000,
              "batchSize": 1
            }
          }
        },
        "rawContentType": "application/json",
        "sendBody": true,
        "url": "https://api.wavespeed.ai/api/v3/bytedance/seedance-v1-pro-t2v-480p"
      },
      "position": [
        -400,
        220
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "d6125dbf-60f7-4b12-a40a-22620ce81ad2",
      "name": "Wait for Clip Generation (Wavespeed AI)",
      "parameters": {
        "amount": 240
      },
      "position": [
        -200,
        220
      ],
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "webhookId": "60604cd4-5d90-48dc-93f4-1335e5f03fdd"
    },
    {
      "id": "d0cc62fe-7707-4239-bf9b-ace81b6c1130",
      "name": "Retrieve Video Clips",
      "parameters": {
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {},
        "url": "=https://api.wavespeed.ai/api/v3/predictions/{{ $json.data.id }}/result"
      },
      "position": [
        0,
        220
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "c8149b5f-9afc-4a0c-9b10-87423e270d7e",
      "name": "Generate ASMR Sound (Fal AI)",
      "parameters": {
        "authentication": "genericCredentialType",
        "body": "= {\n        \"prompt\": \"ASMR Soothing sound effects. {{ $('AI Agent: Generate Detailed Video Prompts').item.json.output.Sound }}\",\n        \"duration\": 10,\n        \"video_url\": \"{{ $json.data.outputs[0] }}\"\n  }\n",
        "contentType": "raw",
        "genericAuthType": "httpHeaderAuth",
        "method": "POST",
        "options": {
          "batching": {
            "batch": {
              "batchInterval": 2000,
              "batchSize": 1
            }
          }
        },
        "rawContentType": "application/json",
        "sendBody": true,
        "url": "https://queue.fal.run/fal-ai/mmaudio-v2 "
      },
      "position": [
        280,
        220
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "c006863b-0580-445d-9d84-1661c35db86a",
      "name": "Wait for Sound Generation (Fal AI)",
      "parameters": {
        "amount": 60
      },
      "position": [
        480,
        220
      ],
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "webhookId": "abac7859-a9f6-46f3-95c2-df43ec32807d"
    },
    {
      "id": "3e633249-80df-4cdd-bc52-f715f6d7af75",
      "name": "Retrieve Final Sound Output",
      "parameters": {
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {},
        "url": "=https://queue.fal.run/fal-ai/mmaudio-v2/requests/{{ $json.request_id }}"
      },
      "position": [
        680,
        220
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "d119dd91-e032-4d8e-9d5b-d55a53101f10",
      "name": "List Clip URLs for Stitching",
      "parameters": {
        "jsCode": "return [\n  {\n    video_urls: items.map(item => item.json.video.url)\n  }\n];"
      },
      "position": [
        -600,
        500
      ],
      "type": "n8n-nodes-base.code",
      "typeVersion": 2
    },
    {
      "id": "577d1648-05e3-4443-974e-f70a50e61655",
      "name": "Merge Clips into Final Video (Fal AI)",
      "parameters": {
        "authentication": "genericCredentialType",
        "body": "={\n  \"tracks\": [\n    {\n      \"id\": \"1\",\n      \"type\": \"video\",\n      \"keyframes\": [\n        { \"url\": \"{{ $json.video_urls[0] }}\", \"timestamp\": 0, \"duration\": 10 },\n        { \"url\": \"{{ $json.video_urls[1] }}\", \"timestamp\": 10, \"duration\": 10 },\n        { \"url\": \"{{ $json.video_urls[2] }}\", \"timestamp\": 20, \"duration\": 10 }\n      ]\n    }\n  ]\n}",
        "contentType": "raw",
        "genericAuthType": "httpHeaderAuth",
        "method": "POST",
        "options": {
          "batching": {
            "batch": {
              "batchInterval": 2000,
              "batchSize": 1
            }
          }
        },
        "rawContentType": "application/json",
        "sendBody": true,
        "url": "https://queue.fal.run/fal-ai/ffmpeg-api/compose"
      },
      "position": [
        -400,
        500
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "ee3f5eb9-06f0-4356-b978-1cc60216fe30",
      "name": "Wait for Video Rendering (Fal AI)",
      "parameters": {
        "amount": 60
      },
      "position": [
        -200,
        500
      ],
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "webhookId": "389fcfd1-9337-4334-a54b-4114f36e30bc"
    },
    {
      "id": "41bafcc9-1fc6-425f-ad1d-ab94ba7b81ff",
      "name": "Retrieve Final Merged Video",
      "parameters": {
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {},
        "url": "=https://queue.fal.run/fal-ai/ffmpeg-api/requests/{{ $json.request_id }}"
      },
      "position": [
        0,
        500
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "05371f41-b245-44bc-92ed-b0ad19a69628",
      "name": "URL Final Video",
      "parameters": {
        "columns": {
          "attemptToConvertTypes": false,
          "convertFieldsToString": false,
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "idea"
          ],
          "schema": [
            {
              "canBeUsedToMatch": true,
              "defaultMatch": true,
              "display": true,
              "displayName": "id",
              "id": "id",
              "removed": false,
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "idea",
              "id": "idea",
              "removed": false,
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "caption",
              "id": "caption",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "production",
              "id": "production",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "environment_prompt",
              "id": "environment_prompt",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "final_output",
              "id": "final_output",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "row_number",
              "id": "row_number",
              "readOnly": true,
              "removed": true,
              "required": false,
              "type": "string"
            }
          ],
          "value": {
            "final_output": "={{ $json.video_url }}",
            "idea": "{{ $('Save Idea & Metadata to Google Sheets').first().json.idea }}",
            "production": "done"
          }
        },
        "documentId": {
          "__rl": true,
          "mode": "id",
          "value": "="
        },
        "operation": "update",
        "options": {},
        "sheetName": {
          "__rl": true,
          "mode": "id",
          "value": "="
        }
      },
      "position": [
        680,
        500
      ],
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5
    },
    {
      "id": "f516dbe4-1cfc-4f37-a6cf-ab8337b31d10",
      "name": "Assign Social Media IDs",
      "parameters": {
        "jsonOutput": "{\n  \"instagram_id\": \"1111\",\n  \"youtube_id\": \"1111\",\n  \"threads_id\": \"1111\",\n  \"tiktok_id\": \"1111\",\n  \"facebook_id\": \"1111\",\n  \"facebook_page_id\": \"1111\",\n  \"twitter_id\": \"1111\",\n  \"linkedin_id\": \"1111\",\n  \"pinterest_id\": \"1111\",\n  \"pinterest_board_id\": \"1111\",\n  \"bluesky_id\": \"1111\"\n}\n",
        "mode": "raw",
        "options": {}
      },
      "position": [
        -420,
        1080
      ],
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4
    },
    {
      "id": "d054f3c6-e44c-42c6-a9d6-f2187423e0af",
      "name": "Get my video",
      "parameters": {
        "documentId": {
          "__rl": true,
          "mode": "id",
          "value": "="
        },
        "options": {},
        "sheetName": {
          "__rl": true,
          "mode": "id",
          "value": "="
        }
      },
      "position": [
        -640,
        1080
      ],
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5
    },
    {
      "id": "6bd25d4a-6647-42f9-82c0-0ab94331f90d",
      "name": "Upload Video to Blotato",
      "parameters": {
        "bodyParameters": {
          "parameters": [
            {
              "name": "url",
              "value": "={{ $('Get my video').item.json['final_output'] }}"
            }
          ]
        },
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_HERE"
            }
          ]
        },
        "method": "POST",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "url": "https://backend.blotato.com/v2/media"
      },
      "position": [
        -180,
        1080
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "b0c854a9-530c-4e16-96d1-071b85a5cb2e",
      "name": "INSTAGRAM",
      "parameters": {
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_HERE"
            }
          ]
        },
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.instagram_id }}\",\n    \"target\": {\n      \"targetType\": \"instagram\"\n    },\n    \"content\": {\n      \"text\": \"{{ $('Get my video').item.json.DESCRIPTION }}\",\n      \"platform\": \"instagram\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n\n",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "url": "https://backend.blotato.com/v2/posts"
      },
      "position": [
        240,
        820
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "8ae9e47b-d34a-4347-a672-e1a4a0827512",
      "name": "YOUTUBE",
      "parameters": {
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_HERE"
            }
          ]
        },
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.youtube_id }}\",\n    \"target\": {\n      \"targetType\": \"youtube\",\n      \"title\": \"{{ $('Get my video').item.json.Titre }}\",\n      \"privacyStatus\": \"unlisted\",\n      \"shouldNotifySubscribers\": \"false\"\n    },\n    \"content\": {\n      \"text\": \"{{ $('Get my video').item.json.DESCRIPTION }}\",\n      \"platform\": \"youtube\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "url": "https://backend.blotato.com/v2/posts"
      },
      "position": [
        460,
        820
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "b88cfdbc-8fe2-447f-95f0-f42a5e73207b",
      "name": "TIKTOK",
      "parameters": {
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "=YOUR_API_HERE"
            }
          ]
        },
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.tiktok_id }}\",\n    \"target\": {\n      \"targetType\": \"tiktok\",\n      \"isYourBrand\": \"false\", \n      \"disabledDuet\": \"false\",\n      \"privacyLevel\": \"PUBLIC_TO_EVERYONE\",\n      \"isAiGenerated\": \"true\",\n      \"disabledStitch\": \"false\",\n      \"disabledComments\": \"false\",\n      \"isBrandedContent\": \"false\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Get my video').item.json.DESCRIPTION }}\",\n      \"platform\": \"tiktok\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "url": "https://backend.blotato.com/v2/posts"
      },
      "position": [
        640,
        820
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "f116191a-479e-4e8d-bb2d-cbda01c14d8a",
      "name": "FACEBOOK",
      "parameters": {
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "=YOUR_API_HERE"
            }
          ]
        },
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.facebook_id }}\",\n    \"target\": {\n      \"targetType\": \"facebook\",\n      \"pageId\": \"{{ $('Assign Social Media IDs').item.json.facebook_page_id }}\"\n\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Get my video').item.json.DESCRIPTION }}\",\n      \"platform\": \"facebook\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "url": "https://backend.blotato.com/v2/posts"
      },
      "position": [
        240,
        1060
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "8556e5d0-ecdd-4bb9-b249-6657f5b3f4cd",
      "name": "THREADS",
      "parameters": {
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_HERE"
            }
          ]
        },
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.threads_id }}\",\n    \"target\": {\n      \"targetType\": \"threads\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Get my video').item.json.DESCRIPTION }}\",\n      \"platform\": \"threads\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "url": "https://backend.blotato.com/v2/posts"
      },
      "position": [
        460,
        1060
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "7b6ace41-2755-4484-a54e-99186fcb1e2e",
      "name": "LINKEDIN",
      "parameters": {
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_HERE"
            }
          ]
        },
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.linkedin_id }}\",\n    \"target\": {\n      \"targetType\": \"linkedin\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Get my video').item.json.DESCRIPTION }}\",\n      \"platform\": \"linkedin\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "url": "https://backend.blotato.com/v2/posts"
      },
      "position": [
        240,
        1300
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "aa005e69-3af9-420c-8298-f0f3426fdd3c",
      "name": "BLUESKY",
      "parameters": {
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_HERE"
            }
          ]
        },
        "jsonBody": "= {\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.bluesky_id }}\",\n    \"target\": {\n      \"targetType\": \"bluesky\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Get my video').item.json.DESCRIPTION }}\",\n      \"platform\": \"bluesky\",\n      \"mediaUrls\": [\n        \"https://pbs.twimg.com/media/GE8MgIiWEAAfsK3.jpg\"\n      ]\n    }\n  }\n}\n",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "url": "https://backend.blotato.com/v2/posts"
      },
      "position": [
        460,
        1300
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "8667422b-8474-4447-bcf0-87cf94cb317f",
      "name": "PINTEREST",
      "parameters": {
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_HERE"
            }
          ]
        },
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.pinterest_id }}\",\n    \"target\": {\n      \"targetType\": \"pinterest\",\n      \"boardId\": \"{{ $('Assign Social Media IDs').item.json.pinterest_board_id }}\"      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Get my video').item.json.DESCRIPTION }}\",\n      \"platform\": \"pinterest\",\n      \"mediaUrls\": [\n        \"https://pbs.twimg.com/media/GE8MgIiWEAAfsK3.jpg\"\n      ]\n    }\n  }\n}\n\n",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "url": "https://backend.blotato.com/v2/posts"
      },
      "position": [
        640,
        1300
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    },
    {
      "id": "c15ee97e-d1fd-43a1-a83e-a7dac33d42dc",
      "name": "Update Production",
      "parameters": {
        "columns": {
          "attemptToConvertTypes": false,
          "convertFieldsToString": false,
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "row_number"
          ],
          "schema": [
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "PROMPT",
              "id": "PROMPT",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "DESCRIPTION",
              "id": "DESCRIPTION",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "URL VIDEO",
              "id": "URL VIDEO",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "Titre",
              "id": "Titre",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "STATUS",
              "id": "STATUS",
              "required": false,
              "type": "string"
            },
            {
              "canBeUsedToMatch": true,
              "defaultMatch": false,
              "display": true,
              "displayName": "row_number",
              "id": "row_number",
              "readOnly": true,
              "removed": false,
              "required": false,
              "type": "string"
            }
          ],
          "value": {
            "STATUS": "Publish",
            "row_number": "={{ $('Get my video').item.json.row_number }}"
          }
        },
        "documentId": {
          "__rl": true,
          "mode": "id",
          "value": "="
        },
        "operation": "update",
        "options": {},
        "sheetName": {
          "__rl": true,
          "mode": "id",
          "value": "="
        }
      },
      "position": [
        -180,
        1300
      ],
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5
    },
    {
      "id": "072f9e9c-8a0c-464e-aaa8-a604f394f7ea",
      "name": "TWITTER",
      "parameters": {
        "headerParameters": {
          "parameters": [
            {
              "name": "blotato-api-key",
              "value": "YOUR_API_HERE"
            }
          ]
        },
        "jsonBody": "={\n  \"post\": {\n    \"accountId\": \"{{ $('Assign Social Media IDs').item.json.twitter_id }}\",\n    \"target\": {\n      \"targetType\": \"twitter\"\n      \n    },\n    \"content\": {\n      \"text\": \"{{ $('Get my video').item.json.DESCRIPTION }}\",\n      \"platform\": \"twitter\",\n      \"mediaUrls\": [\n        \"{{ $json.url }}\"\n      ]\n    }\n  }\n}\n",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "url": "https://backend.blotato.com/v2/posts"
      },
      "position": [
        640,
        1060
      ],
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2
    }
  ],
  "repo_name": "n8n-workflow-backup",
  "repo_owner": "freedrawing",
  "repo_path": "https://github.com/freedrawing/n8n-workflow-backup.git",
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "projectId": "lpLK8rDKIwFmdM1V",
      "role": "workflow:owner",
      "workflowId": "0Zx4muPLi9T4e0EX"
    }
  ],
  "tags": [],
  "triggerCount": 1
}